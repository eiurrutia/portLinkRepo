
<ion-segment (ionChange)="segmentChanged($event)" [(ngModel)]="segment" value="drivers"
  style="margin-top: 20%; background: ghostwhite;">
  <ion-segment-button value="drivers">
    <ion-label>Conductores
      <ion-badge *ngIf="segment=='drivers'" color="primary">{{ activeDriversCount }}</ion-badge>
      <ion-badge *ngIf="segment!='drivers'"color="medium">{{ activeDriversCount }}</ion-badge>
    </ion-label>
  </ion-segment-button>
  <ion-segment-button value="thirds">
    <ion-label>Terceros
      <ion-badge *ngIf="segment=='thirds'" color="primary">{{ activeThirdsCount }}</ion-badge>
      <ion-badge *ngIf="segment!='thirds'" color="medium">{{ activeThirdsCount }}</ion-badge>
    </ion-label>
  </ion-segment-button>
</ion-segment>
<ion-slides [options]="slideOpts" (ionSlideDidChange)="slideChanged($event)" style="margin-top: 2%; overflow-y: scroll!important">
  <!-- Drivers Slide -->
  <ion-slide class="custom-slide" value="slide1">
    <ion-list class="main-form" style="margin-top: 70%;">
      <ion-item>
        Selección de Conductores
      </ion-item>
      <ion-item *ngFor="let driver of activeDriversDiccKeys">
        <ion-label> {{driver}} </ion-label>
        <ion-toggle [(ngModel)]="activeDriversDicc[driver]"
          (ionChange)="countActiveDrivers()"></ion-toggle>
      </ion-item>
    </ion-list>
  </ion-slide>

  <!-- Thirds Slide -->
  <ion-slide class="custom-slide" value="slide2">
    <ion-list class="main-form" style="margin-top: 0%;">
      <ion-item>
        Selección de Terceros
      </ion-item>
      <ion-item *ngFor="let third of thirdsDiccKeys">
        <ion-grid>
          <ion-row>
            <ion-col size="7">
              <ion-label> {{third}} </ion-label>
            </ion-col>
            <ion-col size="5" style="text-align: right;">
              <ion-button (click)="changeNumber(third, -1)" shape="round" color="light">-</ion-button>
              <ion-button shape="round" color="light">{{ thirdsDicc[third] }}</ion-button>
              <ion-button (click)="changeNumber(third, 1)" shape="round" color="light">+</ion-button>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="thirdsDicc[third] > 1">
            <div *ngFor="let item of createArray(thirdsDicc[third]); let i = index">
              <ion-input type=text placeholder="Nombre Conductor {{ i }}"></ion-input>
            </div>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </ion-slide>
</ion-slides>

<ion-fab style="bottom: 10%; right: 10%;" vertical="bottom" horizontal="end" edge>
  <ion-fab-button size="big" (click)="sendRecord()" routerLink="ports/new-port" style="--background: seagreen;">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>
